
Motor:
Bafang model todo
8 pole pairs 


Wiring:

- 3 x Digital Input for RPM from  hall sensors
		PG7	D4		GPIO	Input		Phase A
		PI0	D5		GPIO	Input		Phase B
		PH6	D6		GPIO	Input		Phase C

- 3 x Digital Output
		PA15	D9		TIM2	CH1		PWM  for load transistor control
		PA8		D10		GPIO	Output		LED on/off switch
		PB15	D11		GPIO	Output		LED serial WS2812


- 5 x Analog inputs for volts, amps, temp, potentiometer, Super cap voltage  
		
		PA0		A0		ADC3	IN0		Rectifier volts
		PF10	A1		ADC3	IN8		Rectifier Amps
		PF9		A2		ADC3	IN7		Temperature
		PF8		A3		ADC3	IN6		Potentiometer
		PF7		A4		ADC3	IN5		SuperCap Volts 
		

- 3 phase rectifier
- Over voltage protection
- Super cap on micro supply line
- 12 v usb car charger

LED driver which outputs light proportional to power. using WS2812 



Electronics:
TPSM560R6HRDAR 60v - 5v  https://www.digikey.com.au/en/products/detail/texas-instruments/TPSM5601R5HRDAR/14004317




MCU:
Devboard is STM32746G-Disco on the MB1191C board version C01 (white sticker on back)
appropriate schematic in project datasheets folder.

Firmware:



disable backlight on PK3 pin. 
tried disabling FMC but no screen afterward
tried disabling quadspi but loses images
could also try disabling i2c3

4ma draw on red LED
power in via right angle header male 2 way then change jumper one position. 
